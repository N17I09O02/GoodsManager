@model Web_Manage.ViewModels.DatHangViewModel
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Đặt hàng";
}

<h2>Đặt hàng</h2>

<form asp-action="Create" asp-controller="DonHang" method="post" onsubmit="return validateInput();">
    <div class="form-group">
        <p>Debug IdKhachHang: @Model.IdKhachHang</p>
        <label>Chọn mặt hàng:</label>
        <select class="form-control" name="IdMatHang" required>
            @foreach (var mh in Model.DanhSachMatHang)
            {
                <option value="@mh.IdMatHang">@mh.TenMatHang - @mh.Gia.ToString("N0") đ</option>
            }
        </select>
    </div>

    <div class="form-group">
        <label>Số lượng (nhập như: 1,1 + 2 + 0,5):</label>
        <input type="text" id="SoLuongText" name="SoLuongText" class="form-control" required />
        <small class="form-text text-muted">
            Chỉ chấp nhận định dạng: `1,1 + 2 + 0,5`
        </small>
        <div id="errorText" class="text-danger"></div>
    </div>


    <input type="hidden" name="IdKhachHang" value="@Model.IdKhachHang" />

    <button type="submit" class="btn btn-primary">Đặt hàng</button>
</form>

<script src="~/js/createDonHang.js"></script>

